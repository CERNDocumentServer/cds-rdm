{#
    Copyright (C) 2022 CERN.

    CDS-RDM is free software; you can redistribute it and/or modify it
    under the terms of the MIT License; see LICENSE file for more details.
#}

{%- extends config.THEME_HEADER_TEMPLATE %}

{#- Remove search field from top bar on frontpage #}
{%- block navbar_search %}{% endblock %}

{% block heroheader %}

  <header class="theme header frontpage">
    {%- block user_impersonation %}
      {%- if '_impersonator_id' in session %}
        <div class="ui negative flashed top attached manage m-0 big message">
          <div class="ui container">
            <div class="header">
              <i class="ui spy big icon"></i><strong>Impersonated session</strong>
            </div>
            You must log out after you finish with you inquiry!
          </div>
        </div>
      {%- endif %}
    {%- endblock user_impersonation %}

    <div class="ui container fluid ml-0-mobile mr-0-mobile">
      <div class="clip-path shadow blue">
        <div class="hex blue hero">
          <img class="brand graphic"
               src="{{ url_for('static', filename='images/graphic.png') }}"
               alt=""/>
          <div class="hex icon files">
            <i class="large inverted file alternate outline icon"></i>
          </div>
          <div class="hex icon archive">
            <i class="large inverted archive icon"></i>
          </div>
          <div class="hex icon camera">
            <i class="large inverted camera icon"></i>
          </div>
          <div class="hex icon code">
            <i class="large inverted code branch file icon"></i>
          </div>
        </div>
      </div>
      <div class="clip-path shadow gray computer only">
        <div class="hex gray hero"></div>
      </div>
      <div class="clip-path shadow gradient computer only">
        <div class="hex gradient hero"></div>
      </div>
    </div>

    <div class="outer-navbar hero">
      {%- block navbar %}
        {{ super() }}
        {%- block site_banner %}
          {{ super() }}
        {%- endblock site_banner %}

        {%- block flashmessages %}
          {{ super() }}
        {%- endblock %}

        {%- block frontpage_search %}
          <div class="ui container two columns grid frontpage-header">
            {%- block frontpage_title %}
              <div class="computer tablet only row">
                <div class="two wide widescreen three wide computer five wide tablet middle aligned column cern-logo">
                  <img class="ui image fluid cern-logo"
                       src="{{ url_for('static', filename='images/CERN-logo.svg') }}"
                       alt="{{ _(config.THEME_SITENAME) }}"/>
                </div>
                <div class="six wide computer eight wide tablet column site-logo">
                  <a class="logo-link" href="/">
                    <img class="ui image small"
                         src="{{ url_for('static', filename=config.THEME_LOGO) }}"
                         alt="{{ _(config.THEME_SITENAME) }}"/>
                  </a>
                  <div class="ui header mt-10">
                    <div class="sub header">
                      {{ _(config.THEME_FRONTPAGE_TITLE) }}
                    </div>
                  </div>
                  <h1 class="ui header hero-sitename mt-20">
                    Institutional Repository
                  </h1>

                </div>
              </div>
              <div class="mobile only row">
                <div class="four wide middle aligned right floated column cern-logo">
                  <img class="ui image fluid cern-logo"
                       src="{{ url_for('static', filename='images/CERN-logo.svg') }}"
                       alt="{{ _(config.THEME_SITENAME) }}"/>
                </div>
              </div>
              <div class="mobile only row">
                <div class="ten wide column site-logo centered">
                  <a class="logo-link" href="/">
                    <img class="ui image small"
                         src="{{ url_for('static', filename=config.THEME_LOGO) }}"
                         alt="{{ _(config.THEME_SITENAME) }}"/>
                  </a>
                  <div class="ui header mt-10">
                    <div class="sub header">
                      {{ _(config.THEME_FRONTPAGE_TITLE) }}
                    </div>
                  </div>
                </div>
                <div class="sixteen wide column centered">
                  <h1 class="ui header hero-sitename mt-20">
                    Institutional Repository
                  </h1>
                </div>
              </div>
            {%- endblock frontpage_title %}
            {%- block frontpage_form %}
              <div class="row left aligned" id="frontpage-searchbar">
                <div class="sixteen wide mobile twelve wide computer fifteen wide tablet column left aligned">
                  <form action="{{ url_for('invenio_search_ui.search') }}"
                        class="ui form" role="search">
                    <div class="ui fluid big action input">
                      <input type="text" name="q" class="form-control"
                             placeholder="{{ _('Search') }}">
                      <button type="submit" class="ui icon search button"
                              aria-label="{{ _('Search') }}">
                        <i class="search icon" aria-hidden="true"></i>
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            {%- endblock frontpage_form %}
            <div class="row" id="focus-on">
              <div class="pl-0 one wide computer only column inline-flex align-items-center">
                <h2 class="ui medium header">Browse</h2>
              </div>
              <div class="pl-0 thirteen wide computer only column">
                <a href="/search?&f=resource_type:publication"
                   class="ui labeled icon button basic mb-10">
                  <i class="file alternate icon"></i>
                  <span>Publications</span>
                </a>
                <a href="/search?&f=resource_type:dataset"
                   class="ui labeled icon button basic  mb-10">
                  <i class="database icon"></i>

                  Datasets
                </a>
                <a href="/search?&f=resource_type:model"
                   class="ui labeled icon button basic mb-10">
                  <i class="superscript icon"></i>
                  Models
                </a>
                <a href="/search?&f=resource_type:publication-preprint"
                   class="ui labeled icon button basic mb-10">
                  <i class="bookmark outline icon"></i>
                  Pre-prints
                </a>
              </div>
            </div>
          </div>
        {%- endblock frontpage_search %}

      {% endblock navbar %}

    </div>
  </header>

  {%- block breadcrumbs %}

  {%- endblock breadcrumbs %}

{% endblock heroheader %}
